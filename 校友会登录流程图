<mxfile host="app.diagrams.net" modified="2022-11-16T10:08:24.605Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Edg/107.0.1418.42" etag="h7o71ESDpYXMLQDNc2Z9" version="20.5.3" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1209" dy="674" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" background="#283618" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="ushXFGK_XAKNzGOa8xhj-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="ushXFGK_XAKNzGOa8xhj-0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="扫描页面二维码，进入“怡仔说”的SSO登录页面" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="267.82" y="132" width="143.25" height="58" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#DDA15E;fontColor=#FEFAE0;fillColor=#BC6C25;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="8Xg7hc_LwruLh9ptEmJf-6" target="WIyWlLk6GJQsqaUBKTNV-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-6" value="开始" style="ellipse;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="279.44" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="8Xg7hc_LwruLh9ptEmJf-11" target="ushXFGK_XAKNzGOa8xhj-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-11" value="&lt;div style=&quot;text-align: start;&quot;&gt;获取source和param参数&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="251.66" y="360" width="175.56" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-52" value="结束" style="ellipse;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="610" y="1530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-95" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#DDA15E;fontSize=20;fontColor=#FFFFFF;fillColor=#BC6C25;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="8Xg7hc_LwruLh9ptEmJf-81" target="8Xg7hc_LwruLh9ptEmJf-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-69" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="8Xg7hc_LwruLh9ptEmJf-81" target="N_wloCC7GAEPjsOT2R2z-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-81" value="判断用户是否&lt;br&gt;已存在？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="605.1600000000001" y="241" width="130.56" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="8Xg7hc_LwruLh9ptEmJf-85" target="ushXFGK_XAKNzGOa8xhj-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8Xg7hc_LwruLh9ptEmJf-85" value="调用LoginByMember方法，返回AccessToken到“怡仔说”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="602" y="937" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=20;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-12" target="8Xg7hc_LwruLh9ptEmJf-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-12" value="通过clientId+orgCode+Token组成用户unionid" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="606" y="140" width="128.72" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-24" target="ushXFGK_XAKNzGOa8xhj-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-24" value="创建Member和IdentityUser记录" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="849.9999999999999" y="246" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=20;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-41" target="N_wloCC7GAEPjsOT2R2z-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-41" value="系统使用Token自动创建企业白名单TokenItem纪录" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="846.9200000000001" y="599" width="126.16" height="59" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-47" target="ushXFGK_XAKNzGOa8xhj-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-47" value="绑定企业" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="844.96" y="713" width="130.08" height="50" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-67" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=20;fontColor=#FFFFFF;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-53" target="N_wloCC7GAEPjsOT2R2z-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-82" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-53" target="N_wloCC7GAEPjsOT2R2z-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-53" value="校验Token是否在当前企业白名单中？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1037" y="472.5" width="124.08" height="75" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="N_wloCC7GAEPjsOT2R2z-66" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N_wloCC7GAEPjsOT2R2z-66" value="弹窗“企业绑定失败，Token无效”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1224" y="485.5" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-0" target="8Xg7hc_LwruLh9ptEmJf-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-0" value="获取source和param参数，调用后端SSO登录接口" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="267.82" y="239" width="143.25" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-4" target="ushXFGK_XAKNzGOa8xhj-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-4" value="根据source参数获取SSOClient对象" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="279.44" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-14" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-6" target="ushXFGK_XAKNzGOa8xhj-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-23" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-6" target="ushXFGK_XAKNzGOa8xhj-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-6" value="SSOClient是否存在且启用？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="284.15999999999997" y="580" width="110.56" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-10" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="615" />
              <mxPoint x="60" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-10" value="弹窗“无效的客户端参数”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="85.05000000000003" y="590.5" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-13" target="ushXFGK_XAKNzGOa8xhj-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-13" value="使用SSOClient的ClientSecret对param参数的值进行AES解密" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="271.89000000000004" y="714" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-16" target="ushXFGK_XAKNzGOa8xhj-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-16" value="&lt;div style=&quot;text-align: start;&quot;&gt;&amp;nbsp;获得loginType、&lt;/div&gt;&lt;div style=&quot;text-align: start;&quot;&gt;orgCode、token、ts参数&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="251.57999999999996" y="941" width="175.56" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-41" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-18" target="ushXFGK_XAKNzGOa8xhj-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-18" target="ushXFGK_XAKNzGOa8xhj-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-18" value="判断 ts与当前UTC时间是否在5分钟有效期内？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270.53999999999996" y="1176" width="136.18" height="79" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-21" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="1083" />
              <mxPoint x="60" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-21" value="弹窗“请求参数错误”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="85.05000000000007" y="1058" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-37" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-25" target="ushXFGK_XAKNzGOa8xhj-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-25" target="ushXFGK_XAKNzGOa8xhj-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-25" value="检查loginType==1且orgCode、token、ts参数都不为空" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="271.26" y="1043" width="136.18" height="79" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-29" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="1216" />
              <mxPoint x="60" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-29" value="弹窗“当前请求已过期”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="85.05000000000007" y="1191" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-40" target="ushXFGK_XAKNzGOa8xhj-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-40" value="根据SSOClient的Id获取SSOClientOrganizationRelations" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="278.63" y="1311" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-45" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-42" target="ushXFGK_XAKNzGOa8xhj-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-58" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-42" target="N_wloCC7GAEPjsOT2R2z-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-42" value="当前orgCode存在且启用" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="282.95" y="1426" width="111.37" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-44" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="1466" />
              <mxPoint x="60" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-44" value="弹窗“无效的企业参数”" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="85.05000000000007" y="1441.5" width="134.95" height="49" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-71" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-57" target="N_wloCC7GAEPjsOT2R2z-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-72" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-57" target="N_wloCC7GAEPjsOT2R2z-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-57" value="TokenAutoCreateAllowed是否为true？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="854.3199999999999" y="470" width="111.37" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-63" target="8Xg7hc_LwruLh9ptEmJf-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="672" y="1100" />
              <mxPoint x="672" y="1100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-63" value="进入“怡仔说”首页" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="599.9" y="1058" width="140.1" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-74" target="ushXFGK_XAKNzGOa8xhj-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-74" value="使用SSOUrl中传递的token作为企业绑定的Token" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="849.9999999999999" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=16;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-78" target="8Xg7hc_LwruLh9ptEmJf-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-78" value="调用HandleBindOrgAndUpdateRoles方法添加“organization”角色" style="whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="850" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-89" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-87" target="ushXFGK_XAKNzGOa8xhj-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-95" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=none;strokeColor=#FFB570;fontSize=15;fontColor=#FFFFFF;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="ushXFGK_XAKNzGOa8xhj-87" target="ushXFGK_XAKNzGOa8xhj-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ushXFGK_XAKNzGOa8xhj-87" value="是否解密成功？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#BC6C25;strokeColor=#DDA15E;fontColor=#FEFAE0;rounded=0;glass=0;strokeWidth=1;shadow=0;sketch=0;fontSize=12;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="273.35" y="810" width="131.37" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
